import{_ as F,b as p,p as w,c as i,d as n,e as u,E as C,k as m,F as B,z as U,f as r,s as _}from"./index-777c8e91.js";const N={name:"Filtros",props:{filters:{type:Array,default:[]},updateFilter:{type:Function,default:()=>{}}},data(){return{fields:[],options:[],values:[]}},mounted(){var e,l;!((e=this.fields)!=null&&e.length)&&((l=this.filters)!=null&&l.length)&&(this.fields=[this.filters])},methods:{changed:function(e){this.values[e]=null},addNewFilter:function(){this.fields.push(this.filters)},removeFilter:function(e){this.fields.splice(e,1),this.options.splice(e,1),this.values.splice(e,1)},search:function(){this.updateFilter(this.result)}},computed:{result:function(){const e={},l=this.options.map(t=>t.property),a=this.values.map(t=>t);for(var c=0;c<l.length;c++)a[c]&&(e[l[c]]=a[c]);return e}},watch:{filters:function(){var e,l;!((e=this.fields)!=null&&e.length)&&((l=this.filters)!=null&&l.length)&&(this.fields=[this.filters])}}},S={key:0},D=u("span",{class:"text-md text-900 font-bold"},"Filtros",-1),L={class:"col-12 md:col-12"},E={key:0,class:"grid formgrid"},j={class:"col-12 mb-2 lg:col-3"},A={class:"col-12 mb-2 lg:col-5"},I={key:0},M={key:1},T={class:"col-12 mb-2 lg:col-1 flex justify-content-start"},z={key:0,class:"col-12 mb-2 lg:col-3 flex justify-content-end"};function q(e,l,a,c,t,d){var v;const b=p("Dropdown"),V=p("MultiSelect"),k=p("InputText"),f=p("Button"),h=w("tooltip");return(v=t.fields)!=null&&v.length?(i(),n("div",S,[D,u("div",L,[C(e.$slots,"container",{},()=>[(i(!0),n(B,null,U(t.fields,(y,o)=>{var g;return i(),n("div",{key:y.field},[(g=a.filters)!=null&&g.length?(i(),n("div",E,[u("div",j,[r(b,{modelValue:t.options[o],"onUpdate:modelValue":s=>t.options[o]=s,options:a.filters,optionLabel:"field",placeholder:"Selecione uma opção",class:"w-full",onChange:s=>d.changed(o)},null,8,["modelValue","onUpdate:modelValue","options","onChange"])]),u("div",A,[t.options[o]&&t.options[o].type=="multiselect"?(i(),n("div",I,[r(V,{modelValue:t.values[o],"onUpdate:modelValue":s=>t.values[o]=s,options:t.options[o].options,optionLabel:"opcao",optionValue:"id",maxSelectedLabels:3,class:"w-full"},null,8,["modelValue","onUpdate:modelValue","options"])])):(i(),n("div",M,[r(k,{type:"text",modelValue:t.values[o],"onUpdate:modelValue":s=>t.values[o]=s,style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]))]),u("div",T,[_(r(f,{icon:"pi pi-filter-slash",class:"p-button",text:"",disabled:o==0&&t.fields.length==1,onClick:s=>d.removeFilter(o)},null,8,["disabled","onClick"]),[[h,"Excluir",void 0,{top:!0}]])]),o==0?(i(),n("div",z,[_(r(f,{label:"",icon:"fa-regular fa-filters",class:"p-button mr-3 w-4rem",onClick:d.addNewFilter},null,8,["onClick"]),[[h,"Adicionar",void 0,{top:!0}]]),_(r(f,{label:"Buscar",icon:"pi pi-search",class:"p-button w-15rem",onClick:d.search},null,8,["onClick"]),[[h,"Buscar",void 0,{top:!0}]])])):m("",!0)])):m("",!0)])}),128))])])])):m("",!0)}const H=F(N,[["render",q]]);export{H as F};
